
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="fotoğraf şifrelemek, resimleri bulanıklaştırmak, resimleri gizlemek, puzzle fotoğraf yapmak, javascript ile şifrelemek">
    <meta name="keywords" content="fotoğraf şifrelemek, resimleri bulanıklaştırmak, resimleri gizlemek, puzzle fotoğraf yapmak, javascript ile şifrelemek">
    <link href="/yg-32.png" rel="shortcut icon" type="image/x-icon">
    <title>Fotoğraf Karıştırma Algoritması / Yapay Gezegen</title>
    <style>
        body {
            font-family: Verdana, monospace, sans-serif;
            font-size: 12px;
            font-weight: bold;
            text-align: justify;
            min-height: 100vh;
            background-color: #333;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }
        header{
            width: 90%;
            height: auto;
            margin: 15px auto;
            padding: 10px;
            background-color: rgb(82, 101, 99);
            border-radius: 10px;
            text-align: center;
            font-size: 25px;
            color: white;
            text-decoration: none;
        }
        header a{
            text-decoration: none;
            color: white;
        }
        main{
            width: 90%;
            height: auto;
            margin: 15px auto;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #444;
            background-color: #222627;
            
        }
        #drop-area {
            width: 80%;
            height: 300px;
            border: 2px dashed #ccc;
            font-size: 20px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
            cursor: pointer;
        }

        #text-input {
            width: 90%;
            height: 50px;
            margin-top: 20px;
            resize: none;
            background-color: #373434;
            color: white;
            border: 1px solid #ccc;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
        }

        #canvas-container {
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            overflow: auto;
        }

        #canvas {
            border: 1px solid #000;
            cursor: zoom-in
        }

        #button-container {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-top: 20px;
        }

        #download-button, #yaz-button {
            padding: 10px 20px;
            background-color: #555;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin: 0 10px;
        }

        #download-button {
            display: none;
        }

        #yaz-button {
            display: none;
        }
        h1{
            width: 90%;
            height: auto;
            background-color: rgb(62, 73, 72);
            text-align: center;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
        }
        p{
            width: 90%;
            height: auto;
            text-align: center;
            font-size: 18px;
            background-color: #555;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
        }
        footer{
            width: 90%;
            height: auto;
            margin: 15px auto;
            padding: 10px;
            background-color: rgb(82, 101, 99);
            border-radius: 10px;
            text-align: center;
            font-size: 15px;
            color: white;
        }
    </style>
</head>
<body>
<header><a href="/">Yapay Gezegen</a></header>
<main>
    <h1>Fotoğraf Karıştırma Algoritması</h1>
    <p>Bu algoritma: fotoğrafınızı 10.000 eşit parçaya böler. Her bir parçayı rastegele olacak şekilde karıştırır. Karıştırma işleminin sonucunda, sayısal değerler üretir. Bu değerleri kullanarak, fotoğrafınızı normal haline geri çevirebilirsiniz.</p>
    <div id="drop-area">Buraya sürükleyin veya tıklayın</div>
    <p>Sayısal değerler, kullanıcının bilgisayarında oluşmaktadır. Bu site, sayısal verilerinizi saklamaz. Fotoğraflarınızı herhangi bir sunucuya göndermez.</p>
    <textarea id="text-input" placeholder="Sadece geri çevirme işlemi yaparken sayısal veri girin."></textarea>
    <div id="button-container">
        <button id="download-button">Resmi İndir</button>
        <button id="yaz-button">Kopyala</button>
    </div>
    <div id="canvas-container">
        <canvas id="canvas"></canvas>
    </div>
</main>
<footer>yapaygezegen.com</footer>
</div>
<script>
    let dropArea = document.getElementById('drop-area');
    let textInput = document.getElementById('text-input');
    let downloadButton = document.getElementById('download-button');
    let yazButton = document.getElementById('yaz-button');
    let canvasContainer = document.getElementById('canvas-container');
    let canvas = document.getElementById('canvas');
    let context = canvas.getContext('2d');
    canvasContainer.style.display = 'none';
    let konumlar = []
    let karma = []
    let ekle = 0;

    function handleImageUpload(file) {
        if (file) {
            let reader = new FileReader();

            reader.onload = function(e) {
                let img = new Image();

                img.onload = function() {

                    canvas.width = img.width
                    canvas.height = img.height
                    ekle = 0
                    karma = new Array((img.width / 5) * (img.height / 5))

                    while (ekle < ((img.width / 5) * (img.height / 5))) {
                        karma[ekle] = ekle;
                        ekle++;
                    }
                    karma.sort(() => Math.random() - 0.5);


                    konumlar = []
                    for (let i = 0; i < img.height; i += 5) {
                        for (let j = 0; j < img.width; j += 5) {
                            konumlar.push([j, i]);
                        }
                    }

                    if (textInput.value.trim() !== "") {
                        let inputKarma = textInput.value.split(",");
                        if (inputKarma.length === karma.length) {
                            karma = inputKarma;
                            
                            textInput.value = "";
                            for (let g = 0; g < ((img.width / 5) * (img.height / 5)); g++) {
                                context.drawImage(img, konumlar[g][0], konumlar[g][1], 5, 5, konumlar[karma[g]][0], konumlar[karma[g]][1], 5, 5);
                            }
                        } else {
                            alert("Girdiğiniz sayısal veri, resmin boyutlarıyla uyuşmuyor. Lütfen doğru veriyi girdiğinizden emin olun.");
                        }


                    } else {
                        yazButton.style.display = "inline-block";
                        for (let g = 0; g < ((img.width / 5) * (img.height / 5)); g++) {
                            context.drawImage(img, konumlar[karma[g]][0], konumlar[karma[g]][1], 5, 5, konumlar[g][0], konumlar[g][1], 5, 5);
                        }
                    }

                    canvasContainer.style.display = 'flex';
                    downloadButton.style.display = 'inline-block';
                    console.log("Toplam: " + (img.width/5) * (img.height/5) + " parça")
                    yazButton.innerText = "Kopyala"
                }
                img.src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
    }

    dropArea.addEventListener('dragover', (event) => {
        event.preventDefault();
        dropArea.style.borderColor = 'green';
    });

    dropArea.addEventListener('dragleave', () => {
        dropArea.style.borderColor = '#ccc';
    });

    dropArea.addEventListener('drop', (event) => {
        event.preventDefault();
        dropArea.style.borderColor = '#ccc';

        const files = event.dataTransfer.files;
        if (files.length > 0) {
            handleImageUpload(files[0]);
        }
    });

    dropArea.addEventListener('click', () => {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'yeni/*';
        input.onchange = (event) => {
            const file = event.target.files[0];
            handleImageUpload(file);
        };
        input.click();
    });

    downloadButton.addEventListener('click', () => {
        const dataURL = canvas.toDataURL('yeni/png');
        const a = document.createElement('a');
        a.href = dataURL;
        a.download = 'yeni.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    });

    yazButton.addEventListener('click', async () => {
    try {
        navigator.clipboard.writeText(karma)
        console.log('Veri panoya kopyalandı!');
        yazButton.innerText = "Kopyalandı"
        
    } catch {
        alert('Bu işlem yalnızca bilgisayarlarda çalışmaktadır.');
    }
    })
</script>
</body>
</html>
